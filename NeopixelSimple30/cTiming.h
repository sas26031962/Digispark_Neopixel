/*
 Класс таймер
 */
#ifndef C_TIMING_H
#define C_TIMING_H
//========================================================================
 //---------------------------- ПОДКЛЮЧАЕМЫЕ ФАЙЛЫ ------------------------
 //========================================================================
 
 //========================================================================
 //-------------------------------- КОНСТАНТЫ -----------------------------
 //========================================================================
#define DEFAULT_DELAY 250

 //========================================================================
 //--------------------------- ОБЪЯВЛЕНИЕ КЛАССОВ -------------------------
 //========================================================================
class cTiming{
 //------------------------------------------------------------------------
 // Атрибуты
 //------------------------------------------------------------------------
  long Current;
  long Previous;
  int Delay;

public:
 //------------------------------------------------------------------------
 // Конструктор
 //------------------------------------------------------------------------
  cTiming();
 //------------------------------------------------------------------------
 // Методы
 //------------------------------------------------------------------------
  bool check();
  void start(int d);  
  
};//End of class cTiming

 //========================================================================
 //--------------------------- РЕАЛИЗАЦИЯ МЕТОДОВ -------------------------
 //========================================================================

//
// Конструктор
//
cTiming::cTiming()
{
  Current = millis();
  Previous = Current;
  Delay = DEFAULT_DELAY;
}

void cTiming::start(int d)
{
  Delay = d;
  Current = millis();
  Previous = Current;
}

bool cTiming::check()
{
  Current = millis();
  bool x = (Current - Previous < Delay);
  if(!x)
  {
    Previous = Current; 
  }
  return !x;
}


#endif
